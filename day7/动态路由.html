<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>动态路由</title>
		<script src="js/vue.js" type="text/javascript"></script>
		<script src="js/vue-router.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="app">
				<ul>
					<li v-for="item in arr">				
						<router-link :to="/dianying/+item.id">{{item.name}}</router-link>
					</li>
				</ul>
				<hr />
				<router-view></router-view>
		</div>
		<script type="text/javascript">			
			dianying = {// 创建组件
				template:`<div><h5>获取到的数据:{{$route.params.movieid}}</h5></div>`,
				mounted:function(){
					console.log(this.$router);//打印路由信息，获取$route.params.movieid
				}
			}						
			routes = [//创建路由
				{path:"/dianying/:movieid",component:dianying},
			]			
			router = new VueRouter({//配置路由
				routes:routes,
			})			
			vm = new Vue({// 创建实例对象
				el:"#app",
				data:{
					arr:[
						{"id":1,"name":"孙平","age":24},
						{"id":2,"name":"张三","age":25},
						{"id":3,"name":"李四","age":26},
					],
				},				
				router:router//注册到根组件
			})
		</script>
	</body>
</html>
